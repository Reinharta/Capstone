@model Capstone.ViewModels.SuppporterBasketIndexViewModel

@{
    ViewBag.Title = "SupporterIndex";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Active Donation Baskets</h2>

@{ int listCount = Model.BasketsList.Count();}
@if ( listCount == 0)
{
    <h5 style="color: olive">No Active Baskets! Find some awesome Nonprofits and get started!</h5>
}

<table class="table">
    <tr>
        <th>
            Date Created
        </th>
        <th>
            Organization
        </th>
        <th>
            Status
        </th>
        <th>
            Items
        </th>
        <th></th>
    </tr>

@foreach (var item in Model.BasketsList) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.DateCreated)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Organization.OrganizationName)
        </td>
        <td>
            @if(item.BasketPending == false)
            {
                <text>Active</text>
            }
            @if(item.BasketPending == true)
            {
                <text>On The Way</text>
            }
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.BasketItems.Count)
        </td>
        <td>
            @Html.ActionLink("Details", "Index", new { supporterId = item.SupporterId, organizationId = item.OrganizationId }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.BasketId })
        </td>
    </tr>
}

</table>
